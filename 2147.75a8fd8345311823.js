"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2147],{2147:(q,l,r)=>{r.r(l),r.d(l,{BrowsePageModule:()=>P});var c=r(9808),Z=r(4182),o=r(5362),d=r(378),u=r(655),e=r(2096),p=r(2064),m=r(6475);let f=(()=>{class t{constructor(i,s){this.app=i,this.itineraryService=s,this.categories=["food","date","london","shopping","party","outdoor"]}getCategories(){return(0,u.mG)(this,void 0,void 0,function*(){const i=yield this.itineraryService.search(null),s=[...new Set(i.map(a=>a.activities.map(g=>g.tags)).flat().flat())],h=[];return s.forEach(a=>{const g=this.categories.includes(a)?a:"default";h.push({name:a,imageUrl:`${this.app.backgroundsPath}/${g}.png`})}),h})}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(m.z),e.LFG(p.v))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(t,n){if(1&t&&(e.TgZ(0,"ion-col",11),e.TgZ(1,"div",12),e._uU(2),e.qZA(),e.qZA()),2&t){const i=n.$implicit;e.xp6(1),e.Udp("background-image","url("+i.imageUrl+")"),e.xp6(1),e.hij(" ",i.name," ")}}function v(t,n){if(1&t&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-thumbnail",4),e._UZ(2,"img",14),e.qZA(),e.TgZ(3,"ion-label"),e.TgZ(4,"h3"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.qZA(),e.qZA()),2&t){const i=n.$implicit;e.xp6(2),e.Q6J("src",i.imageUrls[0],e.LSH),e.xp6(3),e.Oqu(i.name),e.xp6(2),e.Oqu(i.description)}}function w(t,n){if(1&t&&(e.TgZ(0,"ion-list"),e.TgZ(1,"ion-list-header"),e._uU(2," Recently Viewed "),e.qZA(),e.YNc(3,v,8,3,"ion-item",13),e.qZA()),2&t){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.recentlyViewed)}}const T=[{path:"",component:(()=>{class t{constructor(i,s){this.itineraryService=i,this.categoryService=s,this.recentlyViewed=[],this.today=new Date}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){this.recentlyViewed=yield this.itineraryService.search(null),this.categories=yield this.categoryService.getCategories()})}toggleFilter(){this.showFilter=!this.showFilter}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(p.v),e.Y36(f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-browse"]],decls:18,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["slot","end"],[1,"ion-padding-end"],["name","heart"],["placeholder","Search by destinations or budget"],[1,"ion-padding"],["sizeLg","4","sizeMd","4","sizeXs","6",4,"ngFor","ngForOf"],[4,"ngIf"],["sizeLg","4","sizeMd","4","sizeXs","6"],[1,"col-wrapper","category-title"],[4,"ngFor","ngForOf"],[3,"src"]],template:function(i,s){1&i&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-title"),e._uU(3,"Browse"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",1),e.TgZ(5,"ion-header",2),e.TgZ(6,"ion-toolbar"),e.TgZ(7,"ion-title",3),e._uU(8,"Browse"),e.qZA(),e.TgZ(9,"ion-buttons",4),e.TgZ(10,"ion-button",5),e._UZ(11,"ion-icon",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div"),e._UZ(13,"ion-searchbar",7),e.qZA(),e.TgZ(14,"ion-grid",8),e.TgZ(15,"ion-row"),e.YNc(16,y,3,3,"ion-col",9),e.qZA(),e.qZA(),e.YNc(17,w,4,1,"ion-list",10),e.qZA()),2&i&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(12),e.Q6J("ngForOf",s.categories),e.xp6(1),e.Q6J("ngIf",s.recentlyViewed))},directives:[o.Gu,o.sr,o.wd,o.W2,o.Sm,o.YG,o.gu,o.VI,o.j9,o.jY,o.Nd,c.sg,c.O5,o.wI,o.q_,o.yh,o.Ie,o.Bs,o.Q$],styles:["ion-grid[_ngcontent-%COMP%]{--ion-grid-padding: 0px;--ion-grid-margin: 0px}.col-wrapper[_ngcontent-%COMP%]{min-height:100px;width:100%;background-size:cover;background-repeat:no-repeat;text-align:center;display:flex;justify-content:center;align-items:center}.category-title[_ngcontent-%COMP%]{color:#fff}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(T)],d.Bz]}),t})();var B=r(4466);let P=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.ez,Z.u5,o.Pc,B.m,A]]}),t})()}}]);