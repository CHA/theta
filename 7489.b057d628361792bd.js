"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7489],{7489:(E,f,a)=>{a.r(f),a.d(f,{HomePageModule:()=>Y});var g=a(9808),C=a(4182),o=a(5362),d=a(378),u=a(655),l=a(8286),n=a(2096);let _=(()=>{class t{}return t.config={effect:"cards",grabCursor:!0,centeredSlides:!0},t})(),h=(()=>{class t{}return t.config={effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:!0},t})(),T=(()=>{class t{}return t.config={slidesPerView:2.4,spaceBetween:0,freeMode:!0,pagination:!1},t})(),P=(()=>{class t{constructor(){this.freeModeSwiperOptions=T.config,this.cardEffectSwiperOptions=_.config,this.coverflowEffectSwiperOptions=h.config}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=a(6475),x=a(2064),v=a(7930),p=a(9485);function w(t,r){if(1&t&&n._UZ(0,"img",8),2&t){const e=n.oxw(2).$implicit,i=n.oxw();n.Q6J("ngClass",i.useCardEffect?"img-md":"img-sm")("src",e.imageUrls[0],n.LSH)}}function O(t,r){if(1&t&&(n.TgZ(0,"ion-card-content"),n._uU(1),n.qZA()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",e.text," ")}}function M(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"ion-card",3),n.NdJ("click",function(){n.CHM(e);const c=n.oxw().$implicit;return n.oxw().onClick(c)}),n.YNc(1,w,1,2,"img",4),n.TgZ(2,"div",5),n.TgZ(3,"ion-card-header"),n.TgZ(4,"ion-card-title"),n._uU(5),n.qZA(),n.qZA(),n.YNc(6,O,2,1,"ion-card-content",6),n.TgZ(7,"ion-badge",7),n._uU(8,"free"),n.qZA(),n.qZA(),n.qZA()}if(2&t){const e=n.oxw().$implicit,i=n.oxw();n.ekj("no-margin",i.useCardEffect),n.xp6(1),n.Q6J("ngIf",null==e.imageUrls?null:e.imageUrls.length),n.xp6(1),n.Q6J("ngClass",i.useCardEffect?"caption-md":"caption-sm"),n.xp6(3),n.Oqu(e.title),n.xp6(1),n.Q6J("ngIf",i.useCardEffect)}}function A(t,r){1&t&&n.YNc(0,M,9,6,"ng-template",2)}l.ZP.use([l.tl,l.Rv,l.c4,l.lI]);let y=(()=>{class t{constructor(){this.tap=new n.vpe}ngOnInit(){}ngOnChanges(e){e.cards&&(this.cards=e.cards.currentValue,this.useCardEffect=this.config===_.config)}onClick(e){console.log(e),this.tap.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-card-slider"]],inputs:{cards:"cards",config:"config"},outputs:{tap:"tap"},features:[n.TTD],decls:2,vars:2,consts:[[3,"config"],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"card",3,"click"],[3,"ngClass","src",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],["color","primary"],[3,"ngClass","src"]],template:function(e,i){1&e&&(n.TgZ(0,"swiper",0),n.YNc(1,A,1,0,void 0,1),n.qZA()),2&e&&(n.Q6J("config",i.config),n.xp6(1),n.Q6J("ngForOf",i.cards))},directives:[p.nF,g.sg,p.YC,o.PM,g.O5,g.mk,o.Zi,o.Dq,o.yp,o.FN],styles:["ion-card[_ngcontent-%COMP%]{margin:4px 4px 20px;border-radius:0}ion-card-header[_ngcontent-%COMP%]{padding:6px}ion-card-subtitle[_ngcontent-%COMP%]{text-align:left}ion-card-title[_ngcontent-%COMP%]{font-size:14px;text-align:left}ion-card-content[_ngcontent-%COMP%]{font-size:12px;text-align:left;padding:6px}ion-badge[_ngcontent-%COMP%]{align-items:inherit;float:right;margin:8px;font-size:12px}.no-margin[_ngcontent-%COMP%]{margin:0}.img-sm[_ngcontent-%COMP%]{height:28vw!important;max-height:28vw!important}.img-md[_ngcontent-%COMP%]{height:60vw!important}.caption-sm[_ngcontent-%COMP%], .caption-md[_ngcontent-%COMP%]{height:22vw!important}"]}),t})();var q=a(9062);function b(t,r){if(1&t&&n._UZ(0,"img",20),2&t){const e=n.oxw().$implicit;n.s9C("src",e,n.LSH)}}function S(t,r){1&t&&n.YNc(0,b,1,1,"ng-template",19)}let U=(()=>{class t{constructor(e){this.app=e,this.imageUrls=[],this.swiperConfig=q.f.config}ngOnChanges(e){if(!e.itinerary)return;const i=e.itinerary.currentValue;this.imageUrls.push(...i.imageUrls),i.activities.forEach(c=>{this.imageUrls.push(...c.imageUrls)})}open(e){this.app.toItinerary(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Z.z))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-itinerary-card"]],inputs:{itinerary:"itinerary"},features:[n.TTD],decls:41,vars:8,consts:[[1,"card"],["detail","false","lines","none",1,"card-item"],["color","primary"],[1,"title"],[1,"sub-title"],[3,"config"],[4,"ngFor","ngForOf"],["detail","false","lines","none"],["size","small","fill","clear",1,"btn-action"],["name","heart-outline","slot","icon-only"],[1,"icon-label"],["size","small","fill","clear",1,"btn-action","icon"],["name","chatbubbles-outline","slot","icon-only"],["name","share-social-outline","slot","icon-only"],[1,"wrap-text"],["item-start",""],["src","assets/images/avatars/rabbit.jpg"],[1,"user-info"],["size","small","fill","clear","item-end","",1,"btn-action","icon",3,"click"],["swiperSlide",""],[2,"object-fit","cover","height","250px",3,"src"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-card",0),n.TgZ(1,"ion-card-header"),n.TgZ(2,"ion-item",1),n.TgZ(3,"ion-label"),n.TgZ(4,"ion-text",2),n.TgZ(5,"h2",3),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"h3",4),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"ion-card-content"),n.TgZ(10,"swiper",5),n.YNc(11,S,1,0,void 0,6),n.qZA(),n.TgZ(12,"ion-row"),n.TgZ(13,"ion-col"),n.TgZ(14,"ion-item",7),n.TgZ(15,"ion-button",8),n._UZ(16,"ion-icon",9),n.TgZ(17,"span",10),n._uU(18,"1,439"),n.qZA(),n.qZA(),n.TgZ(19,"ion-button",11),n._UZ(20,"ion-icon",12),n.TgZ(21,"span",10),n._uU(22,"27"),n.qZA(),n.qZA(),n.TgZ(23,"ion-button",11),n._UZ(24,"ion-icon",13),n.TgZ(25,"span",10),n._uU(26,"Share"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(27,"ion-item",1),n.TgZ(28,"p",14),n._uU(29),n.qZA(),n.qZA(),n.TgZ(30,"ion-item",1),n.TgZ(31,"ion-avatar",15),n._UZ(32,"img",16),n.qZA(),n.TgZ(33,"ion-label",17),n.TgZ(34,"h2"),n._uU(35,"Christofel Hakim"),n.qZA(),n.TgZ(36,"p"),n._uU(37,"Local Guide"),n.qZA(),n.qZA(),n.TgZ(38,"ion-button",18),n.NdJ("click",function(){return i.open("1")}),n.TgZ(39,"span"),n._uU(40,"View Activities"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(6),n.hij(" ",i.itinerary.name," "),n.xp6(2),n.HOy(" ",i.itinerary.city.name,", ",i.itinerary.city.country," - ",i.itinerary.estimatedBudget.currency," ",i.itinerary.estimatedBudget.value," "),n.xp6(2),n.Q6J("config",i.swiperConfig),n.xp6(1),n.Q6J("ngForOf",i.imageUrls),n.xp6(18),n.hij(" ",i.itinerary.description," "))},directives:[o.PM,o.Zi,o.Ie,o.Q$,o.yW,o.FN,p.nF,g.sg,o.Nd,o.wI,o.YG,o.gu,o.BJ,p.YC],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:14px}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-bottom:4px}.card[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0}.btn-action[_ngcontent-%COMP%]{margin:0 8px 6px -8px}img[_ngcontent-%COMP%]{width:100%;max-width:1080px;height:auto}.wrap-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.user-info[_ngcontent-%COMP%]{margin-left:10px}.likes-count[_ngcontent-%COMP%]{margin-top:0}.icon-label[_ngcontent-%COMP%]{margin-left:5px;color:gray}"]}),t})();function J(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",4),n.NdJ("click",function(){return n.CHM(e),n.oxw().login()}),n._UZ(1,"ion-icon",17),n.qZA()}}function H(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",4),n.NdJ("click",function(){return n.CHM(e),n.oxw().openMenu()}),n.TgZ(1,"ion-avatar",18),n._UZ(2,"img",19),n.qZA(),n.qZA()}if(2&t){const e=n.oxw();n.xp6(2),n.Q6J("src",e.user.profilePicUrl,n.LSH)}}function F(t,r){if(1&t&&(n.TgZ(0,"ion-col",20),n._UZ(1,"app-itinerary-card",21),n.qZA()),2&t){const e=r.$implicit;n.xp6(1),n.Q6J("itinerary",e)}}l.ZP.use([l.Rv,l.tl]);const I=[{path:"",component:(()=>{class t{constructor(e,i,c,s,k,Q){this.swiper=e,this.app=i,this.itineraryService=c,this.userService=s,this.route=k,this.menuController=Q,this.itineraries=[],this.topPicks=[],this.recommendations=[],this.route.params.subscribe(()=>{var m;this.user=null===(m=this.userService.userToken)||void 0===m?void 0:m.user})}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){this.itineraries=yield this.itineraryService.search(null),this.topPicks=this.itineraryService.toCards(this.itineraries),this.recommendations=this.itineraryService.toCards(this.itineraries)})}refresh(e){return(0,u.mG)(this,void 0,void 0,function*(){this.itineraries=yield this.itineraryService.search(null),e.target.complete()})}onCardTap(e){this.app.navigateTo(`/itinerary/${e.id}`)}login(){this.app.toLoginPage()}openMenu(){this.menuController.open()}toMap(){this.app.navigateTo("/map")}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(P),n.Y36(Z.z),n.Y36(x.v),n.Y36(v.K),n.Y36(d.gz),n.Y36(o._q))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-home"]],decls:37,vars:10,consts:[[3,"translucent"],["slot","start"],[3,"click",4,"ngIf"],["slot","end"],[3,"click"],["name","map-outline"],["name","notifications-outline",1,"notification-icon"],[1,"notification-badge"],["fullscreen","true"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],[1,"title","title-main"],[1,"card-effect"],[3,"cards","config","tap"],[1,"title"],["fixed",""],["size-md","6","size-lg","4",4,"ngFor","ngForOf"],["name","log-in-outline"],[1,"profile-avatar"],[3,"src"],["size-md","6","size-lg","4"],[3,"itinerary"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-header",0),n.TgZ(1,"ion-toolbar"),n.TgZ(2,"ion-buttons",1),n.YNc(3,J,2,0,"ion-button",2),n.YNc(4,H,3,1,"ion-button",2),n.qZA(),n.TgZ(5,"ion-title"),n._uU(6,"Theta"),n.qZA(),n.TgZ(7,"ion-buttons",3),n.TgZ(8,"ion-button",4),n.NdJ("click",function(){return i.toMap()}),n._UZ(9,"ion-icon",5),n.qZA(),n.TgZ(10,"ion-button"),n._UZ(11,"ion-icon",6),n.TgZ(12,"ion-badge",7),n._uU(13,"12"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"ion-content",8),n.TgZ(15,"ion-refresher",9),n.NdJ("ionRefresh",function(s){return i.refresh(s)}),n._UZ(16,"ion-refresher-content",10),n.qZA(),n.TgZ(17,"ion-grid"),n.TgZ(18,"ion-row"),n.TgZ(19,"ion-col"),n.TgZ(20,"p",11),n._uU(21,"For you"),n.qZA(),n.TgZ(22,"div",12),n.TgZ(23,"app-card-slider",13),n.NdJ("tap",function(s){return i.onCardTap(s)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"ion-row"),n.TgZ(25,"ion-col"),n.TgZ(26,"p",14),n._uU(27,"Popular"),n.qZA(),n.TgZ(28,"app-card-slider",13),n.NdJ("tap",function(s){return i.onCardTap(s)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(29,"ion-row"),n.TgZ(30,"ion-col"),n.TgZ(31,"p",14),n._uU(32,"Near you"),n.qZA(),n.TgZ(33,"app-card-slider",13),n.NdJ("tap",function(s){return i.onCardTap(s)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(34,"ion-grid",15),n.TgZ(35,"ion-row"),n.YNc(36,F,2,1,"ion-col",16),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.Q6J("translucent",!0),n.xp6(3),n.Q6J("ngIf",!i.user),n.xp6(1),n.Q6J("ngIf",i.user),n.xp6(19),n.Q6J("cards",i.recommendations)("config",i.swiper.cardEffectSwiperOptions),n.xp6(5),n.Q6J("cards",i.topPicks)("config",i.swiper.freeModeSwiperOptions),n.xp6(5),n.Q6J("cards",i.recommendations)("config",i.swiper.freeModeSwiperOptions),n.xp6(3),n.Q6J("ngForOf",i.itineraries))},directives:[o.Gu,o.sr,o.Sm,g.O5,o.wd,o.YG,o.gu,o.yp,o.W2,o.nJ,o.Wo,o.jY,o.Nd,o.wI,y,g.sg,o.BJ,U],styles:[".notification-badge[_ngcontent-%COMP%]{position:absolute;left:12px;top:.5px;font-size:11px;background:#fa2727}.notification-icon[_ngcontent-%COMP%]{margin-right:12px}.title-main[_ngcontent-%COMP%]{margin-bottom:14px}.title[_ngcontent-%COMP%]{margin-bottom:6px;margin-top:8px;font-weight:700;font-size:14px}.card-effect[_ngcontent-%COMP%]{width:80%;position:relative;left:10%}ion-content[_ngcontent-%COMP%]{--offset-bottom: 8px !important}.profile-avatar[_ngcontent-%COMP%]{height:32px;width:32px;margin-top:4px}"]}),t})()}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[d.Bz.forChild(I)],d.Bz]}),t})();var z=a(4466);let Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,C.u5,o.Pc,N,z.m]]}),t})()}}]);